# This file is generated by dune, edit dune-project instead
opam-version: "2.0"
synopsis: "Radical OCaml build system and environment manager"
description:
  "Alice is a radical, experimental OCaml build system, package manager, and toolchain manager for Windows, macOS, and Linux. Its goal is to allow anyone to program in OCaml with as little friction as possible."
maintainer: ["Stephen Sherratt <stephen@sherra.tt>"]
authors: ["Stephen Sherratt <stephen@sherra.tt>"]
license: "MIT"
homepage: "https://alicecaml.org"
bug-reports: "https://github.com/alicecaml/alice/issues"
depends: [
  "dune" {>= "3.20"}
  "ocaml" {>= "5.1"}
  "climate"
  "sha"
  "dyn"
  "fileutils"
  "pp"
  "re"
  "xdg"
  "toml" {>= "0.7"}
  "odoc" {with-doc}
]
dev-repo: "git+https://github.com/alicecaml/alice.git"
x-maintenance-intent: ["(latest)"]
build: [
  ["dune" "subst"] {dev}
  [
    "dune"
    "build"
    "-p"
    name
    "-j"
    jobs
    "@install"
    # Tests depend on the compile error format, so only run tests for a single
    # compiler version.
    "@runtest" {with-test & ocaml:version >= "5.3" & ocaml:version < "5.4"}
    "@doc" {with-doc}
  ]
]
